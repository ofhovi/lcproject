<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styles.css">
    <!-- <link rel="stylesheet" href="css/nav-bar.css"> -->
    <title>My log</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&family=Roboto+Slab:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/bzv4zqw.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="images/logo.png">
    <script src="js/logo-anim.js"></script>
  </head>
  <body>
    <div class="backgroundue">
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
      <span></span>
   </div>
   <div class="whitething" style="height: 220%;">
    <p class="invisiblenum" id="invisiblenum">Neutral</p>
    <p class="invisiblenum" id="invisiblenum1">5</p>
   </div>
    <div class="nav-bar">
      <div class="empty-space"></div>
      <a href="home.html" class="main-nav-logo"><img  alt="Logo" class="logo-image" id="img1" src="images/looogo.png" onmouseover="changeImg1()" onmouseout="changeImg2()"></a>
      <div class="empty-space2"></div>
      <div class="nav-bar-texts">
        <div class="nav-bar-text">
          <a href="home.html">Home</a>
          <a class="active-tab">My log</a>
          <a href="contact.html">Relax</a>
          <a href="about.html">Links</a>
          <div class="empty-space2"></div>
          <div class="empty-space2"></div>
          <a type="button" id="signoutbutton" class="signoutbutton">Sign Out</a>
        </div>
      </div>
    </div>
      <div class="main">
        <h1 class="title-article title-new" style="margin-top: 0px;">Personal mood log</h1>
        <div class="buttonswitchpage" style="display: flex; width: 60%; justify-content: center; margin-left: 20%; margin-right: 20%;">
        <a class="submibuttonmood" href="details.html" style="margin-top: 0; margin-bottom: 40px; scale: 0.7; width: 30%; text-align: center;">Go to log mood</a>
      </div>
        <div class="welcomecab">
          <p class="paragraph-article greetings" id="greet"></p>
        </div>
        <div class="logsection">
        <form class="listmaybe" id="theexactlist">
            <!-- <ul class="listlistmaybe" id="loglist"></ul> -->
            <!-- <div class="theexactlist" ></div> -->
        </form>
        <div class="lognotes">
          <p class="title-article title-new title-log" id="lognotestitle">Please choose a date</p>
          <p class="lognotestext" id="lognotestext"></p>
        </div>
      </div>
      <canvas class="mychartlog" id="myChart" style="width: 58%; height: 400px;"></canvas>
      <div class="welcomecab">
        <p class="paragraph-article greetings" id="moodave"></p>
      </div>
      <div class="welcomecab">
        <p class="paragraph-article greetings" id="moodrec"></p>
      </div>
      <div class="welcomecab optionalquiz" id="moodblock">
        <p class="paragraph-article greetings" id="moodworry"></p>
        <div class="quizbuttons">
          <button type="button" class="submibuttonmood quizbutton" onclick="yesquiz()">Yes</button>
          <button type="button" class="submibuttonmood quizbutton" onclick="noquiz()">No</button>
        </div>  
      </div>
      <div class="welcomecab optionalquiz" style="opacity: 0;" id="moodblock1">
        <p class="paragraph-article greetings">How long have you been feeling depressed?</p>
        <div class="quizbuttons">
          <button type="button" class="submibuttonmood quizbutton" onclick="quiz1()">Couple of days</button>
          <button type="button" class="submibuttonmood quizbutton" onclick="quiz2()">Few weeks</button>
          <button type="button" class="submibuttonmood quizbutton" onclick="quiz3()">Few months</button>
        </div>  
      </div>
      <div class="welcomecab optionalquiz" style="opacity: 0;" id="moodblock2">
        <p class="paragraph-article greetings" id="moodconcl"></p>
        <a class="submibuttonmood" href="https://www2.hse.ie/mental-health/">HSE Mental Health Help</a>
      </div>



        <!-- <div id="moodchecksec" class="moodchecksec">
             <div class="bar-container">
              <div class="barback">
                <div id="myBar" class="barfront"></div>
              </div>
            </div>
            <br>
            <div class="moodbuttoncont">
              <button class="moodbutton" onclick="moveleft()"><</button> 
                <div class="submoodcont">
                  <p class="paragraph-article choicetext" id="moodexplain1">5</p>
                  <hr style="color: #1B365C;">
                  <p class="paragraph-article choicetext" id="moodexplain">Neutral</p>
                </div>
              <button class="moodbutton" onclick="moveright()">></button> 
            </div>
            <div class="moodbuttoncont">
              <button id="showhidebutton" class="submibuttonmood" onclick="movetodesc()">Continue</button>
            </div>
      </div>
      <div class="moodchecksec1 hide" id="moodchecksec1">
        <p class="paragraph-article greetings">Describe your mood</p>
        <div class="moodbuttoncont">
          <button id="showhidebutton" class="submibuttonmood" onclick="movetorate()" style="margin-top: 0; margin-bottom: 40px; scale: 0.7;"><  Go back</button>
        </div>
        <textarea class="describemoodinp" rows="6" cols="55" id="notestothemood"></textarea>
        <form class="moodbuttoncont" id="moodbuttonsubmit">
          <button class="submibuttonmood" type="submit">Submit</button>
        </form>
      </div> -->
        <!-- <div class="videos-cont">
            <p class="paragraph-article">Bruh</p>
            <p class="paragraph-article" id="msg"></p>
      </div> -->
      <footer class="footers" style="position: fixed; bottom: 0;">
        <h6 class="footer-text">Justiks 2024</h6>
      </footer>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
      <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
      <script src="js/moodquiz.js"></script>
      <script>
        let UserCreds = JSON.parse(sessionStorage.getItem("user-creds"));
        let UserInfo = JSON.parse(sessionStorage.getItem("user-info"));
        let UserId = JSON.parse(sessionStorage.getItem("user-id"));

        let MsgHead = document.getElementById('msg');
        let GreetHead  = document.getElementById('greet');
        let SignoutBtn  = document.getElementById('signoutbutton');

        // MsgHead.innerText = `User with email "${UserCreds.email}" logged in`;
        // GreetHead.innerText = `Welcome ${UserInfo.firstname + " " + UserInfo.lastname}`;

        let Signout = () => {
            sessionStorage.removeItem("user-creds");
            sessionStorage.removeItem("user-info");
            sessionStorage.removeItem("user-id")
            window.location.href='login.html';
        }

        let CheckCred = () =>{
            if (!sessionStorage.getItem("user-creds")) {
                window.location.href = "login.html";
            }

                

            else {
                // MsgHead.innerText = `User with email "${UserCreds.email}" and Id: ${UserId} logged in`;
                GreetHead.innerText = `Welcome ${UserInfo.firstname + " " + UserInfo.lastname}`;
            }
        }

        window.addEventListener( 'load', CheckCred);
        SignoutBtn.addEventListener('click', Signout);
      </script>

      <script type="module" src="js/moodread.js"></script>
      <script src="js/bar-custom.js"></script>
      <script src="js/test.js"></script>
      <script src="js/moodupdate.js"></script>
      <script src="js/moodchart.js" type="module"></script>
      <!-- <script src="js/showhide.js"></script> -->
    </body>
</html>

