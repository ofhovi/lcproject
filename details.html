<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="css/styles.css">
    <!-- <link rel="stylesheet" href="css/nav-bar.css"> -->
    <title>About us</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dongle&family=Roboto+Slab:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.typekit.net/bzv4zqw.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="images/logo.png">
    <script src="js/logo-anim.js"></script>
  </head>
  <body>
    <div class="nav-bar">
      <div class="empty-space"></div>
      <a href="home.html" class="main-nav-logo"><img  alt="Logo" class="logo-image" id="img1" src="images/looogo.png" onmouseover="changeImg1()" onmouseout="changeImg2()"></a>
      <div class="empty-space2"></div>
      <div class="nav-bar-texts">
        <div class="nav-bar-text">
          <a href="home.html">Home</a>
          <a href="login.html">Login</a>
          <a href="contact.html">Relax</a>
          <a href="about.html">Links</a>
          <a type="button" id="signoutbutton" class="signoutbutton">Sign Out</a>
        </div>
      </div>
    </div>
      <div class="main">
        <h1 class="title-article title-new">Personal mood log</h1>
        <div class="bar-container">
          <div class="barback">
            <div id="myBar" class="barfront"></div>
          </div>
        </div>
        <br>
        <div class="moodbuttoncont">
          <button class="moodbutton" onclick="moveleft()">Click Me</button> 
          <button class="moodbutton" onclick="moveright()">Click Me</button> 
        </div>
      </div>
      
      <script>
      // function move() {
      //   var elem = document.getElementById("myBar");   
      //   var width = 1;
      //   var id = setInterval(frame, 10);
      //   function frame() {
      //     if (width >= 100) {
      //       clearInterval(id);
      //     } else {
      //       width++; 
      //       elem.style.width = width + '%'; 
      //     }
      //   }
      // }
      var barset = 5;

      function applybar() {
        var elem = document.getElementById("myBar");
        
        if (barset == 0) {
          elem.style.width = "2%";
        }

        if (barset == 1) {
          elem.style.width = "10%";
        }

        if (barset == 2) {
          elem.style.width = "20%";
        }

        if (barset == 3) {
          elem.style.width = "30%";
        }

        if (barset == 4) {
          elem.style.width = "40%";
        }

        if (barset == 5) {
          elem.style.width = "50%";
        }
        
        if (barset == 6) {
          elem.style.width = "60%";
        }

        if (barset == 7) {
          elem.style.width = "70%";
        }

        if (barset == 8) {
          elem.style.width = "80%";
        }

        if (barset == 9) {
          elem.style.width = "90%";
        }

        if (barset == 10) {
          elem.style.width = "100%";
        }
      }

      function moveleft() {
        if (barset > 0) {
          barset = barset - 1;
          applybar();
        }  

        console.log(barset);

      }

      function moveright() {
        if (barset < 11) {
          barset = barset + 1;
          applybar();
        }  

        console.log(barset);

      }
      </script>
        <div class="videos-cont">
            <p class="paragraph-article">Bruh</p>
            <p class="paragraph-article" id="msg"></p>
            <p class="paragraph-article" id="greet"></p>
      </div>
      <footer class="footers">
        <h6 class="footer-text">Justiks 2023</h6>
      </footer>

      <script>
        let UserCreds = JSON.parse(sessionStorage.getItem("user-creds"));
        let UserInfo = JSON.parse(sessionStorage.getItem("user-info"));
        let UserId = sessionStorage.getItem("user-id");

        let MsgHead = document.getElementById('msg');
        let GreetHead  = document.getElementById('greet');
        let SignoutBtn  = document.getElementById('signoutbutton');

        // MsgHead.innerText = `User with email "${UserCreds.email}" logged in`;
        // GreetHead.innerText = `Welcome ${UserInfo.firstname + " " + UserInfo.lastname}`;

        let Signout = ()=> {
            sessionStorage.removeItem("user-creds");
            sessionStorage.removeItem("user-info");
            sessionStorage.removeItem("user-id")
            window.location.href='login.html';
        }

        let CheckCred = ()=>{
            if (!sessionStorage.getItem("user-creds")) {
                window.location.href = "login.html";
            }

                

            else {
                MsgHead.innerText = `User with email "${UserCreds.email}" and Id: ${UserId} logged in`;
                GreetHead.innerText = `Welcome ${UserInfo.firstname + " " + UserInfo.lastname}`;
            }
        }

        window.addEventListener( 'load', CheckCred);
        SignoutBtn.addEventListener('click', Signout);
      </script>
    </body>
</html>

<script src="js/test.js"></script>